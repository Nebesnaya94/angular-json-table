"use strict";(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[416],{4416:(j,d,s)=>{s.r(d),s.d(d,{AuthModule:()=>F});var _=s(6814),f=s(4828),l=s(6223),n=s(5879),h=s(4567),C=s(2296),g=s(5195),I=s(2032),u=s(9157);function T(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"Please enter your email"),n.qZA())}function Z(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"This email is invalid"),n.qZA())}function x(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"This email already exists"),n.qZA())}function w(t,e){if(1&t&&(n.TgZ(0,"mat-error"),n.YNc(1,T,2,0,"span",7),n.YNc(2,Z,2,0,"span",7),n.YNc(3,x,2,0,"span",7),n.qZA()),2&t){const a=n.oxw();let r,o,i;n.xp6(1),n.Q6J("ngIf",null==(r=a.form.get("emailControl"))?null:r.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=a.form.get("emailControl"))?null:o.hasError("email")),n.xp6(1),n.Q6J("ngIf",null==(i=a.form.get("emailControl"))?null:i.hasError("existing"))}}function b(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"Please enter your password"),n.qZA())}function v(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1," Your password must contain at least 8 characters "),n.qZA())}function A(t,e){if(1&t&&(n.TgZ(0,"mat-error"),n.YNc(1,b,2,0,"span",7),n.YNc(2,v,2,0,"span",7),n.qZA()),2&t){const a=n.oxw();let r,o;n.xp6(1),n.Q6J("ngIf",null==(r=a.form.get("passwordControl"))?null:r.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=a.form.get("passwordControl"))?null:o.hasError("minlength"))}}function M(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"Please enter your email"),n.qZA())}function U(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"This email is invalid"),n.qZA())}function P(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"This user doesn't exist"),n.qZA())}function J(t,e){if(1&t&&(n.TgZ(0,"mat-error"),n.YNc(1,M,2,0,"span",7),n.YNc(2,U,2,0,"span",7),n.YNc(3,P,2,0,"span",7),n.qZA()),2&t){const a=n.oxw();let r,o,i;n.xp6(1),n.Q6J("ngIf",null==(r=a.form.get("emailControl"))?null:r.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=a.form.get("emailControl"))?null:o.hasError("email")),n.xp6(1),n.Q6J("ngIf",null==(i=a.form.get("emailControl"))?null:i.hasError("unexisting"))}}function N(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1,"Please enter your password"),n.qZA())}function S(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1," Your password must contain at least 8 characters "),n.qZA())}function y(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1," Your password is incorrect "),n.qZA())}function E(t,e){if(1&t&&(n.TgZ(0,"mat-error"),n.YNc(1,N,2,0,"span",7),n.YNc(2,S,2,0,"span",7),n.YNc(3,y,2,0,"span",7),n.qZA()),2&t){const a=n.oxw();let r,o,i;n.xp6(1),n.Q6J("ngIf",null==(r=a.form.get("passwordControl"))?null:r.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==(o=a.form.get("passwordControl"))?null:o.hasError("minlength")),n.xp6(1),n.Q6J("ngIf",null==(i=a.form.get("passwordControl"))?null:i.hasError("incorrect"))}}function q(t,e){1&t&&n.GkF(0)}function L(t,e){if(1&t&&(n.TgZ(0,"button",13),n._uU(1," Log in "),n.qZA()),2&t){const a=n.oxw();n.Q6J("disabled",!a.form.valid)}}function Y(t,e){if(1&t){const a=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(a);const o=n.oxw();return n.KtG(o.logOut())}),n._uU(1," Log out "),n.qZA()}}const Q=[{path:"",redirectTo:"log-in",pathMatch:"full"},{path:"sign-up",component:(()=>{var t;class e{constructor(r){this.authService=r}ngOnInit(){this.form=new l.cw({emailControl:new l.NI("",[l.kI.required,l.kI.email]),passwordControl:new l.NI("",[l.kI.required,l.kI.minLength(8)])})}signUp(){this.user={email:this.form.value.emailControl,password:this.form.value.passwordControl},this.authService.checkEmail(this.user)?this.form.controls.emailControl.setErrors({existing:!0}):(this.authService.signup(this.user),this.form.reset(),Object.keys(this.form.controls).forEach(r=>{this.form.controls[r].setErrors(null)}))}}return(t=e).\u0275fac=function(r){return new(r||t)(n.Y36(h.e))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-sign-up"]],decls:19,vars:4,consts:[[1,"wrapper"],[1,"signup-card"],[1,"signup-card__container"],[1,"signup-card__title"],[1,"signup-card__form",3,"formGroup","ngSubmit"],["appearance","outline",1,"signup-card__form-field"],["type","email","matInput","","formControlName","emailControl"],[4,"ngIf"],["matInput","","formControlName","passwordControl"],[1,"signup-card__button-container"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(r,o){if(1&r&&(n.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h2",3),n._uU(4,"Registration"),n.qZA(),n.TgZ(5,"form",4),n.NdJ("ngSubmit",function(){return o.signUp()}),n.TgZ(6,"mat-form-field",5)(7,"mat-label"),n._uU(8,"Email"),n.qZA(),n._UZ(9,"input",6),n.YNc(10,w,4,3,"mat-error",7),n.qZA(),n.TgZ(11,"mat-form-field",5)(12,"mat-label"),n._uU(13,"Password"),n.qZA(),n._UZ(14,"input",8),n.YNc(15,A,3,2,"mat-error",7),n.qZA(),n.TgZ(16,"div",9)(17,"button",10),n._uU(18," Sign up "),n.qZA()()()()()()),2&r){let i,m;n.xp6(5),n.Q6J("formGroup",o.form),n.xp6(5),n.Q6J("ngIf",(null==(i=o.form.get("emailControl"))?null:i.invalid)&&((null==(i=o.form.get("emailControl"))?null:i.dirty)||(null==(i=o.form.get("emailControl"))?null:i.touched))),n.xp6(5),n.Q6J("ngIf",(null==(m=o.form.get("passwordControl"))?null:m.invalid)&&((null==(m=o.form.get("passwordControl"))?null:m.dirty)||(null==(m=o.form.get("passwordControl"))?null:m.touched))),n.xp6(2),n.Q6J("disabled",!o.form.valid)}},dependencies:[_.O5,C.lW,g.a8,g.dn,I.Nt,u.KE,u.hX,u.TO,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".signup-card[_ngcontent-%COMP%], .login-card[_ngcontent-%COMP%]{margin:50px auto;max-width:500px}.signup-card.mat-mdc-card[_ngcontent-%COMP%], .login-card.mat-mdc-card[_ngcontent-%COMP%]{background:rgba(103,58,183,.075)}.signup-card__title[_ngcontent-%COMP%], .login-card__title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:28px;line-height:40px}.signup-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%], .login-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.signup-card__button-container[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]{margin:20px 0}.signup-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%]{width:70%;display:block;margin:0 auto}.wrapper[_ngcontent-%COMP%]{padding:30px}"]}),e})()},{path:"log-in",component:(()=>{var t;class e{constructor(r){this.authService=r,(0,n.cEC)(()=>{this.isAuthorized=this.authService.isLogged()})}ngOnInit(){this.form=new l.cw({emailControl:new l.NI("",[l.kI.required,l.kI.email]),passwordControl:new l.NI("",[l.kI.required,l.kI.minLength(8)])}),this.user=this.authService.getLoggedUser(),this.user&&(this.form.patchValue({emailControl:this.user.email,passwordControl:this.user.password}),this.form.disable())}logIn(){this.user={email:this.form.value.emailControl,password:this.form.value.passwordControl},this.authService.checkEmail(this.user)?this.authService.checkPassword(this.user)?(this.form.disable(),this.authService.login(this.user)):this.form.controls.passwordControl.setErrors({incorrect:!0}):this.form.controls.emailControl.setErrors({unexisting:!0})}logOut(){this.form.reset(),this.form.enable(),Object.keys(this.form.controls).forEach(r=>{this.form.controls[r].setErrors(null)}),this.authService.logout()}}return(t=e).\u0275fac=function(r){return new(r||t)(n.Y36(h.e))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-log-in"]],decls:22,vars:6,consts:[[1,"wrapper"],[1,"login-card"],[1,"login-card__container"],[1,"login-card__title"],[1,"login-card__form",3,"formGroup","ngSubmit"],["appearance","outline",1,"login-card__form-field"],["type","email","matInput","","formControlName","emailControl"],[4,"ngIf"],["matInput","","formControlName","passwordControl"],[1,"login-card__button-container"],[4,"ngIf","ngIfThen","ngIfElse"],["authorize",""],["deauthorize",""],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,o){if(1&r&&(n.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h2",3),n._uU(4,"Authorization"),n.qZA(),n.TgZ(5,"form",4),n.NdJ("ngSubmit",function(){return o.logIn()}),n.TgZ(6,"mat-form-field",5)(7,"mat-label"),n._uU(8,"Email"),n.qZA(),n._UZ(9,"input",6),n.YNc(10,J,4,3,"mat-error",7),n.qZA(),n.TgZ(11,"mat-form-field",5)(12,"mat-label"),n._uU(13,"Password"),n.qZA(),n._UZ(14,"input",8),n.YNc(15,E,4,3,"mat-error",7),n.qZA(),n.TgZ(16,"div",9),n.YNc(17,q,1,0,"ng-container",10),n.qZA()()()()(),n.YNc(18,L,2,1,"ng-template",null,11,n.W1O),n.YNc(20,Y,2,0,"ng-template",null,12,n.W1O)),2&r){const i=n.MAs(19),m=n.MAs(21);let c,p;n.xp6(5),n.Q6J("formGroup",o.form),n.xp6(5),n.Q6J("ngIf",(null==(c=o.form.get("emailControl"))?null:c.invalid)&&((null==(c=o.form.get("emailControl"))?null:c.dirty)||(null==(c=o.form.get("emailControl"))?null:c.touched))),n.xp6(5),n.Q6J("ngIf",(null==(p=o.form.get("passwordControl"))?null:p.invalid)&&((null==(p=o.form.get("passwordControl"))?null:p.dirty)||(null==(p=o.form.get("passwordControl"))?null:p.touched))),n.xp6(2),n.Q6J("ngIf",o.isAuthorized)("ngIfThen",m)("ngIfElse",i)}},dependencies:[_.O5,C.lW,g.a8,g.dn,I.Nt,u.KE,u.hX,u.TO,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".signup-card[_ngcontent-%COMP%], .login-card[_ngcontent-%COMP%]{margin:50px auto;max-width:500px}.signup-card.mat-mdc-card[_ngcontent-%COMP%], .login-card.mat-mdc-card[_ngcontent-%COMP%]{background:rgba(103,58,183,.075)}.signup-card__title[_ngcontent-%COMP%], .login-card__title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:28px;line-height:40px}.signup-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%], .login-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.signup-card__button-container[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]{margin:20px 0}.signup-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%]{width:70%;display:block;margin:0 auto}.wrapper[_ngcontent-%COMP%]{padding:30px}"]}),e})()},{path:"**",redirectTo:"log-in"}];let k=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[f.Bz.forChild(Q),f.Bz]}),e})();var z=s(6208);let F=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[_.ez,k,z.m]}),e})()}}]);
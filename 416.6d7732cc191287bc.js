"use strict";(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[416],{4416:(F,_,c)=>{c.r(_),c.d(_,{AuthModule:()=>z});var g=c(6814),m=c(4828),t=c(5879),i=c(6223),d=c(4567),f=c(2296),p=c(5195),h=c(2032),u=c(9157);function C(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"Please enter your email"),t.qZA())}function b(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"This email is invalid"),t.qZA())}function x(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"This email already exists"),t.qZA())}function Z(n,e){if(1&n&&(t.TgZ(0,"mat-error"),t.YNc(1,C,2,0,"span",7),t.YNc(2,b,2,0,"span",7),t.YNc(3,x,2,0,"span",7),t.qZA()),2&n){const a=t.oxw();let r,o,l;t.xp6(1),t.Q6J("ngIf",null==(r=a.form.get("emailControl"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(o=a.form.get("emailControl"))?null:o.hasError("email")),t.xp6(1),t.Q6J("ngIf",null==(l=a.form.get("emailControl"))?null:l.hasError("existing"))}}function M(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"Please enter your password"),t.qZA())}function O(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1," Your password must contain at least 8 characters "),t.qZA())}function T(n,e){if(1&n&&(t.TgZ(0,"mat-error"),t.YNc(1,M,2,0,"span",7),t.YNc(2,O,2,0,"span",7),t.qZA()),2&n){const a=t.oxw();let r,o;t.xp6(1),t.Q6J("ngIf",null==(r=a.form.get("passwordControl"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(o=a.form.get("passwordControl"))?null:o.hasError("minlength"))}}const P=function(){return["/auth","log-in"]};function I(n,e){1&n&&(t.TgZ(0,"div",12),t._uU(1," Already have an accout? "),t.TgZ(2,"button",13)(3,"span"),t._uU(4,"Log in"),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,P)))}function w(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"Please enter your email"),t.qZA())}function A(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"This email is invalid"),t.qZA())}function U(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"This user doesn't exist"),t.qZA())}function y(n,e){if(1&n&&(t.TgZ(0,"mat-error"),t.YNc(1,w,2,0,"span",7),t.YNc(2,A,2,0,"span",7),t.YNc(3,U,2,0,"span",7),t.qZA()),2&n){const a=t.oxw();let r,o,l;t.xp6(1),t.Q6J("ngIf",null==(r=a.form.get("emailControl"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(o=a.form.get("emailControl"))?null:o.hasError("email")),t.xp6(1),t.Q6J("ngIf",null==(l=a.form.get("emailControl"))?null:l.hasError("unexisting"))}}function S(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1,"Please enter your password"),t.qZA())}function J(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1," Your password must contain at least 8 characters "),t.qZA())}function L(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1," Your password is incorrect "),t.qZA())}function N(n,e){if(1&n&&(t.TgZ(0,"mat-error"),t.YNc(1,S,2,0,"span",7),t.YNc(2,J,2,0,"span",7),t.YNc(3,L,2,0,"span",7),t.qZA()),2&n){const a=t.oxw();let r,o,l;t.xp6(1),t.Q6J("ngIf",null==(r=a.form.get("passwordControl"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(o=a.form.get("passwordControl"))?null:o.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(l=a.form.get("passwordControl"))?null:l.hasError("incorrect"))}}const k=function(){return["/auth","sign-up"]};function q(n,e){1&n&&(t.TgZ(0,"div",12),t._uU(1," Doesn't have an accout yet? "),t.TgZ(2,"button",13)(3,"span"),t._uU(4,"Sign up"),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,k)))}const E=[{path:"",redirectTo:"log-in",pathMatch:"full"},{path:"sign-up",component:(()=>{var n;class e{constructor(r,o){this.authService=r,this.router=o,(0,t.cEC)(()=>{this.isAuthorized=this.authService.isLogged()})}ngOnInit(){this.form=new i.cw({emailControl:new i.NI("",[i.kI.required,i.kI.email]),passwordControl:new i.NI("",[i.kI.required,i.kI.minLength(8)])})}signUp(){this.user={email:this.form.value.emailControl,password:this.form.value.passwordControl},this.authService.checkEmail(this.user)?this.form.controls.emailControl.setErrors({existing:!0}):(this.authService.signup(this.user),this.resetForm(),this.router.navigate(["auth","log-in"]))}resetForm(){this.form.reset(),Object.keys(this.form.controls).forEach(r=>{this.form.controls[r].setErrors(null)})}}return(n=e).\u0275fac=function(r){return new(r||n)(t.Y36(d.e),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sign-up"]],decls:20,vars:5,consts:[[1,"wrapper"],[1,"signup-card"],[1,"signup-card__container"],[1,"signup-card__title"],[1,"signup-card__form",3,"formGroup","ngSubmit"],["appearance","outline",1,"signup-card__form-field"],["type","email","matInput","","formControlName","emailControl"],[4,"ngIf"],["matInput","","formControlName","passwordControl"],["class","signup-card__redirect",4,"ngIf"],[1,"signup-card__button-container"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"signup-card__redirect"],["type","button","mat-button","",1,"signup-card__redirect-link",3,"routerLink"]],template:function(r,o){if(1&r&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h2",3),t._uU(4,"Sign up"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return o.signUp()}),t.TgZ(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Email"),t.qZA(),t._UZ(9,"input",6),t.YNc(10,Z,4,3,"mat-error",7),t.qZA(),t.TgZ(11,"mat-form-field",5)(12,"mat-label"),t._uU(13,"Password"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,T,3,2,"mat-error",7),t.qZA(),t.YNc(16,I,5,2,"div",9),t.TgZ(17,"div",10)(18,"button",11),t._uU(19," Sign up "),t.qZA()()()()()()),2&r){let l,s;t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("ngIf",(null==(l=o.form.get("emailControl"))?null:l.invalid)&&((null==(l=o.form.get("emailControl"))?null:l.dirty)||(null==(l=o.form.get("emailControl"))?null:l.touched))),t.xp6(5),t.Q6J("ngIf",(null==(s=o.form.get("passwordControl"))?null:s.invalid)&&((null==(s=o.form.get("passwordControl"))?null:s.dirty)||(null==(s=o.form.get("passwordControl"))?null:s.touched))),t.xp6(1),t.Q6J("ngIf",!o.isAuthorized),t.xp6(2),t.Q6J("disabled",!o.form.valid)}},dependencies:[g.O5,m.rH,f.lW,p.a8,p.dn,h.Nt,u.KE,u.hX,u.TO,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".signup-card[_ngcontent-%COMP%], .login-card[_ngcontent-%COMP%]{margin:50px auto;max-width:500px}.signup-card.mat-mdc-card[_ngcontent-%COMP%], .login-card.mat-mdc-card[_ngcontent-%COMP%]{background:rgba(103,58,183,.075)}.signup-card__title[_ngcontent-%COMP%], .login-card__title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:28px;line-height:40px;font-weight:600}.signup-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%], .login-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.signup-card__button-container[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]{margin:20px 0}.signup-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%]{width:70%;display:block;margin:0 auto}.signup-card__redirect[_ngcontent-%COMP%], .login-card__redirect[_ngcontent-%COMP%]{text-align:center;font-size:16px}.signup-card__redirect-link[_ngcontent-%COMP%], .login-card__redirect-link[_ngcontent-%COMP%]{color:#3c2169}.signup-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%], .login-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:32px;font-size:16px;position:relative;bottom:2px}.signup-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .login-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid}.wrapper[_ngcontent-%COMP%]{padding:30px}"]}),e})()},{path:"log-in",component:(()=>{var n;class e{constructor(r,o){this.authService=r,this.router=o,(0,t.cEC)(()=>{this.isAuthorized=this.authService.isLogged(),!this.isAuthorized&&this.form&&this.resetForm()})}ngOnInit(){this.form=new i.cw({emailControl:new i.NI("",[i.kI.required,i.kI.email]),passwordControl:new i.NI("",[i.kI.required,i.kI.minLength(8)])}),this.user=this.authService.getLoggedUser(),this.user&&(this.form.patchValue({emailControl:this.user.email,passwordControl:this.user.password}),this.form.disable())}logIn(){this.user={email:this.form.value.emailControl,password:this.form.value.passwordControl},this.authService.checkEmail(this.user)?this.authService.checkPassword(this.user)?(this.form.disable(),this.authService.login(this.user),this.router.navigateByUrl("main")):this.form.controls.passwordControl.setErrors({incorrect:!0}):this.form.controls.emailControl.setErrors({unexisting:!0})}resetForm(){this.form.reset(),this.form.enable(),Object.keys(this.form.controls).forEach(r=>{this.form.controls[r].setErrors(null)})}}return(n=e).\u0275fac=function(r){return new(r||n)(t.Y36(d.e),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-log-in"]],decls:20,vars:5,consts:[[1,"wrapper"],[1,"login-card"],[1,"login-card__container"],[1,"login-card__title"],[1,"login-card__form",3,"formGroup","ngSubmit"],["appearance","outline",1,"login-card__form-field"],["type","email","matInput","","formControlName","emailControl"],[4,"ngIf"],["matInput","","formControlName","passwordControl"],["class","signup-card__redirect",4,"ngIf"],[1,"login-card__button-container"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"signup-card__redirect"],["type","button","mat-button","",1,"signup-card__redirect-link",3,"routerLink"]],template:function(r,o){if(1&r&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h2",3),t._uU(4,"Log in"),t.qZA(),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return o.logIn()}),t.TgZ(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Email"),t.qZA(),t._UZ(9,"input",6),t.YNc(10,y,4,3,"mat-error",7),t.qZA(),t.TgZ(11,"mat-form-field",5)(12,"mat-label"),t._uU(13,"Password"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,N,4,3,"mat-error",7),t.qZA(),t.YNc(16,q,5,2,"div",9),t.TgZ(17,"div",10)(18,"button",11),t._uU(19," Log in "),t.qZA()()()()()()),2&r){let l,s;t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("ngIf",(null==(l=o.form.get("emailControl"))?null:l.invalid)&&((null==(l=o.form.get("emailControl"))?null:l.dirty)||(null==(l=o.form.get("emailControl"))?null:l.touched))),t.xp6(5),t.Q6J("ngIf",(null==(s=o.form.get("passwordControl"))?null:s.invalid)&&((null==(s=o.form.get("passwordControl"))?null:s.dirty)||(null==(s=o.form.get("passwordControl"))?null:s.touched))),t.xp6(1),t.Q6J("ngIf",!o.isAuthorized),t.xp6(2),t.Q6J("disabled",!o.form.valid||o.isAuthorized)}},dependencies:[g.O5,m.rH,f.lW,p.a8,p.dn,h.Nt,u.KE,u.hX,u.TO,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".signup-card[_ngcontent-%COMP%], .login-card[_ngcontent-%COMP%]{margin:50px auto;max-width:500px}.signup-card.mat-mdc-card[_ngcontent-%COMP%], .login-card.mat-mdc-card[_ngcontent-%COMP%]{background:rgba(103,58,183,.075)}.signup-card__title[_ngcontent-%COMP%], .login-card__title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:28px;line-height:40px;font-weight:600}.signup-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%], .login-card__form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.signup-card__button-container[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]{margin:20px 0}.signup-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%], .login-card__button-container[_ngcontent-%COMP%]   button.mdc-button[_ngcontent-%COMP%]{width:70%;display:block;margin:0 auto}.signup-card__redirect[_ngcontent-%COMP%], .login-card__redirect[_ngcontent-%COMP%]{text-align:center;font-size:16px}.signup-card__redirect-link[_ngcontent-%COMP%], .login-card__redirect-link[_ngcontent-%COMP%]{color:#3c2169}.signup-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%], .login-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:32px;font-size:16px;position:relative;bottom:2px}.signup-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .login-card__redirect-link.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid}.wrapper[_ngcontent-%COMP%]{padding:30px}"]}),e})()},{path:"**",redirectTo:"log-in"}];let Y=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(E),m.Bz]}),e})();var Q=c(6208);let z=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,Y,Q.m]}),e})()}}]);